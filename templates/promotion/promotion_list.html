{% load humanize %}
{% load static %}
{% load mathfilters %}

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="author" content="colorlib.com">

    <link href="{% static 'css/search/main2.css' %}" rel="stylesheet" />
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet">		
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <link href="{% static 'css/search/main.css' %}" rel="stylesheet" />
  </head>

  <body>

    <div class="s002">
      <!-- 
        <div class="inner-form"> -->
          <!-- <div class="input-field second-wrap">
            <div class="icon-wrap">
              
            </div>
            <input class="datepicker" id='search'  type=date  name="start_date" value="{{ request.GET.start_date}}" type="text" placeholder="ค้นหาวันที่" />
          </div> -->

          <form>

            <input id="search" name="a" type="text" placeholder="ค้นหาสินค้า" value='{{ request.GET.a}}'/>  
            <input id="search" name="j" type="text" placeholder="วีดีโอ" value='{{ request.GET.j}}'/>  
            <div class="input-field second-wrap">
              <input class="datepicker" placeholder="ค้นหาวันที่" id="updated"  type=date defaultvalue="updated" name="start_date" value="{{ request.GET.start_date}}" type="text"  />
            </div>
            <div class="input-field third-wrap">
              <input class="datepicker" id="updated"  type=date defaultvalue="updated"  name="end_date" value="{{ request.GET.end_date}}" type="text" placeholder="ถึงวันที่" />
            </div>

            <select  name="b" value="{{ request.GET.b}}">
              <option value="" default>create หรือยัง</option>
              {% if  request.GET.b == 'True' %}
              <option value="True" selected>create แล้ว</option>
              {% else %}
              <option value="True" >create แล้ว</option>
              {% endif %}
          
              {% if  request.GET.b == 'False' %}
              <option value="False" selected>ยังไม่ create</option></select>
              {% else %}
              <option value="False">ยังไม่ create</option></select>
              {% endif %}
          
              <select  name="c" value="{{ request.GET.c}}">
                <option value="" default>ลง shopee</option>
                {% if  request.GET.c == 'True' %}
                <option value="True" selected>ลง shopee แล้ว</option>
                {% else %}
                <option value="True" >ลง shopee แล้ว</option>
                {% endif %}
            
                {% if  request.GET.c == 'False' %}
                <option value="False" selected>ยังไม่ลง</option></select>
                {% else %}
                <option value="False">ยังไม่ลง</option></select>
                {% endif %}

                <select  name="d" value="{{ request.GET.d}}">
                  <option value="" default>ลง lazada</option>
                  {% if  request.GET.d == 'True' %}
                  <option value="True" selected>ลง lazada แล้ว</option>
                  {% else %}
                  <option value="True" >ลง lazada แล้ว</option>
                  {% endif %}
              
                  {% if  request.GET.d == 'False' %}
                  <option value="False" selected>ยังไม่ลง Lazada</option></select>
                  {% else %}
                  <option value="False">ยังไม่ลง Lazada</option></select>
                  {% endif %}


                  <select  name="e" value="{{ request.GET.e}}">
                    <option value="" default>ลง Nocnoc</option>
                    {% if  request.GET.e == 'True' %}
                    <option value="True" selected>ลง Nocnoc แล้ว</option>
                    {% else %}
                    <option value="True" >ลง Nocnoc แล้ว</option>
                    {% endif %}
                
                    {% if  request.GET.e == 'False' %}
                    <option value="False" selected>ยังไม่ลง Nocnoc</option></select>
                    {% else %}
                    <option value="False">ยังไม่ลง Nocnoc</option></select>
                    {% endif %}

                    <select  name="f" value="{{ request.GET.f}}">
                      <option value="" default>ลง Tiktok</option>
                      {% if  request.GET.f == 'True' %}
                      <option value="True" selected>ลง Tiktok แล้ว</option>
                      {% else %}
                      <option value="True" >ลง Tiktok แล้ว</option>
                      {% endif %}
                  
                      {% if  request.GET.f == 'False' %}
                      <option value="False" selected>ยังไม่ลง Tiktok</option></select>
                      {% else %}
                      <option value="False">ยังไม่ลง Tiktok</option></select>
                      {% endif %}    
                      
                      
                      <select  name="g" value="{{ request.GET.g}}">
                        <option value="" default>ลง mainweb</option>
                        {% if  request.GET.g == 'True' %}
                        <option value="True" selected>ลง mainweb แล้ว</option>
                        {% else %}
                        <option value="True" >ลง mainweb แล้ว</option>
                        {% endif %}
                    
                        {% if  request.GET.g == 'False' %}
                        <option value="False" selected>ยังไม่ลง mainweb</option></select>
                        {% else %}
                        <option value="False">ยังไม่ลง mainweb</option></select>
                        {% endif %}           


                        <select  name="h" value="{{ request.GET.h}}">
                          <option value="" default>Vdo</option>
                          {% if  request.GET.h == 'True' %}
                          <option value="True" selected>มี</option>
                          {% else %}
                          <option value="True" >มี</option>
                          {% endif %}
                      
                          {% if  request.GET.h == 'False' %}
                          <option value="False" selected>ไม่มี</option></select>
                          {% else %}
                          <option value="False">ไม่มี</option></select>
                          {% endif %}      

                          <select  name="i" value="{{ request.GET.i}}">
                            <option value="" default>คุณภาพ</option>
                            {% if  request.GET.i == 'True' %}
                            <option value="True" selected>ไม่ผ่าน</option>
                            {% else %}
                            <option value="True" >ไม่ผ่าน</option>
                            {% endif %}
                        
                            {% if  request.GET.i == 'False' %}
                            <option value="False" selected>ผ่าน</option></select>
                            {% else %}
                            <option value="False">ผ่าน</option></select>
                            {% endif %} 

            <button class="btn-search" type='submit'>ค้นหา</button>
      </form>
      <td style="width: auto; text-align: center; font-size: medium;"><a href="{% url 'addproduct' %}">เพิ่มสินค้า</a></td>
      
      
    </div>


    <style>
      table, th, td {
        border: 1px  solid gray;
        border-collapse: collapse;
        margin: auto;
      }
      td {
        width: 100%;
      }
      th {
        text-align: center;
      }
      </style>
    <table style="text-align: center; margin: 2rem; font-size:smaller;" >
    <tr>
                  <!-- <th style="width: 1%;">ออกบิล</th> -->
                  <th style="width: 6%;">วันที่</th>
                  <th style="width: 6%;">รหัสสินค้า</th>
                  <th style="width: 15%;">ชื่อสินค้า</th>
                  <th style="width: 6%;">ราคา</th>
                  <th style="width: 3%; text-align: center; ;">link สินค้า</th>
                  <th style="width: 3%; text-align: center; ;">link วีดีโอ</th>
                  <th style="width: 2%;">หมายเหตุ</th>
                  <th style="width: 1%;">เตรียมข้อมูล</th>
                  <th style="width: 1%;">shopee</th>
                  <th style="width: 1%;">lazada</th>
                  <th style="width: 1%;">nocnoc</th>
                  <th style="width: 1%;">tiktok</th>
                  <th style="width: 1%;">mainweb</th>
                  <th style="width: 1%;">vdo</th>
                  <th style="width: 1%;">แก้ไขคุณภาพ</th>
                  <th style="width: 2%;">แก้ไขล่าสุด</th>
               
              </tr>
              <!-- <form action="savebl" method="POST"> 
                {% csrf_token %}
              <input type="hidden" name="page" value="{{ page_obj.number }}">
                <fieldset> -->
              {% for id in object_list %}
              <tr>
                <td style="width: auto; text-align: center;">{{id.created.date|date:"d/m/y"}}</td>    
                <td style="width: auto; text-align: center; font-size: medium;"><a href="{{id.pk}}">{{id.product_id}}</a></td>

                <td style="width: auto; text-align: left;">{{id.product_name}}</td>
                <td style="width: auto; text-align: center;">{{id.price|floatformat:2|intcomma}}</td>
                <td style="width: auto; text-align: center; font-size: large;"><a href="{{id.link_product}}"target="_blank">Link</a></td>

                {% if id.youtube_link %}
                <td style="width: auto; text-align: center; font-size: large;"><a href="{{id.youtube_link}}"target="_blank">Link</a></td>
                {% else %}    
                <td style="width: auto; text-align: center; font-size: large;"></td> 
                {% endif %}      
                {% if id.comment %}
                <td style="width: auto; text-align: center;">{{id.comment}}</td>
                {% else %}
                <td style="width: auto; text-align: center;"></td>
                {% endif %}
                

                {% if id.status_create %}
                <td style="width: auto; text-align: center; background-color:green;"><span style="color: white;">เตรียม</span></td>

                {% else %}
                <td style="width: auto; text-align: center; background-color:red;" ><span style="color: black;">ไม่เตรียม</span></td>
                {% endif %}

                
                {% if id.status_shopee %}
                <td style="width: auto; text-align: center; background-color:green;"><span style="color: white;">ลง</span></td>

                {% else %}
                <td style="width: auto; text-align: center; background-color:red;" ><span style="color: black;">ไม่ลง</span></td>
                {% endif %}
                
                {% if id.status_lazada %}
                <td style="width: auto; text-align: center; background-color:green;"><span style="color: white;">ลง</span></td>

                {% else %}
                <td style="width: auto; text-align: center; background-color:red;" ><span style="color: black;">ไม่ลง</span></td>
                {% endif %}

                {% if id.status_nocnoc %}
                <td style="width: auto; text-align: center; background-color:green;"><span style="color: white;">ลง</span></td>

                {% else %}
                <td style="width: auto; text-align: center; background-color:red;" ><span style="color: black;">ไม่ลง</span></td>
                {% endif %}


                {% if id.status_tiktok %}
                <td style="width: auto; text-align: center; background-color:green;"><span style="color: white;">ลง</span></td>

                {% else %}
                <td style="width: auto; text-align: center; background-color:red;" ><span style="color: black;">ไม่ลง</span></td>
                {% endif %}


                {% if id.status_mainweb %}
                <td style="width: auto; text-align: center; background-color:green;"><span style="color: white;">ลง</span></td>

                {% else %}
                <td style="width: auto; text-align: center; background-color:red;" ><span style="color: black;">ไม่ลง</span></td>
                {% endif %}

                
                {% if id.vdo %}
                <td style="width: auto; text-align: center; background-color:green;"><span style="color: white;">มี</span></td>

                {% else %}
                <td style="width: auto; text-align: center; background-color:red;" ><span style="color: black;">ไม่มี</span></td>
                {% endif %}

                {% if id.low_quality %}
                <td style="width: auto; text-align: center; background-color:red;"><span style="color: black;">ต้องแก้</span></td>

                {% else %}
                <td style="width: auto; text-align: center; background-color:green;" ><span style="color: white;">ไม่แก้</span></td>
                {% endif %}

                <td style="width: auto; text-align: center;">{{id.updated}}</td>
                
            </fieldset>
            {% endfor %}
          </table>
            <!-- <input type="submit" value="update ข้อมูล">
          </form> -->



<div style="text-align: center;">
    {% load filtersummary %}
    {% if page_obj.has_other_pages %}
<ul class="pagination">
{% if page_obj.has_previous %}
  <li><a href="{% summary_url 1 'page' request.GET.urlencode %}"><i class="fas fa-angle-double-left"></i></a></li>
  <li><a href="{% summary_url page_obj.previous_page_number 'page' request.GET.urlencode %}"><i class="fas fa-angle-left"></i></a></li>
{% else %}
  <li class="disabled"><span><i class="fas fa-angle-double-left"></i></span></li>
  <li class="disabled"><span><i class="fas fa-angle-left"></i></span></li>
{% endif %}
{% for i in page_obj.paginator.page_range %}
  {% if page_obj.number == i %}
    <li class="active"><span style="background-color:red;">{{ i }} <span class="sr-only">(current)</span></span></li>
  {% elif i > page_obj.number|add:'-3' and i < page_obj.number|add:'4' %}

    <li><a href="{% summary_url i 'page' request.GET.urlencode %}">{{ i }}</a></li>
  {% endif %}
{% endfor %}
{% if page_obj.has_next %}
  <li><a href="{% summary_url page_obj.next_page_number 'page' request.GET.urlencode %}"><i class="fas fa-angle-right"></i></a></li>
  <li><a href="{% summary_url page_obj.paginator.num_pages 'page' request.GET.urlencode %}"><i class="fas fa-angle-double-right"></i></i></a></li>
{% else %}
  <li class="disabled"><span><i class="fas fa-angle-right"></i></span></li>
  <li class="disabled"><span><i class="fas fa-angle-double-right"></i></i></span></li>
{% endif %}
</ul>
{% endif %}
</div>

    <script src="{% static 'js/search/choices.js' %}"></script>
    <script src="{% static 'js/search/flatpickr.js' %}"></script>
    <script>
      flatpickr(".datepicker",
      {});

    </script>
    <script>
      const choices = new Choices('[data-trigger]',
      {
        searchEnabled: false,
        itemSelectText: '',
      });

    </script>
  </body><!-- This templates was made by Colorlib (https://colorlib.com) -->
</html>
